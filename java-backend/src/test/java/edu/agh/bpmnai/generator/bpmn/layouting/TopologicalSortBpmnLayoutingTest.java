package edu.agh.bpmnai.generator.bpmn.layouting;

import edu.agh.bpmnai.generator.bpmn.model.BpmnModel;
import org.junit.jupiter.api.Test;

class TopologicalSortBpmnLayoutingTest {
    private static final String testBpmn = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n"
                                           + "<definitions xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" "
                                           + "xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" "
                                           + "xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" "
                                           + "id=\"definitions_b9a09554-d0dc-42a4-b188-a4264e7fe60c\" "
                                           + "targetNamespace=\"http://camunda.org/examples\" xmlns=\"http://www.omg"
                                           + ".org/spec/BPMN/20100524/MODEL\">\n"
                                           + "  <process id=\"id-72cdc846-573c-4278-9cdc-892cf8930dc1\" "
                                           + "name=\"default\">\n"
                                           + "    <startEvent id=\"id-c9dc94b3-d491-453b-8885-4f795a445d2c\" "
                                           + "name=\"Start\">\n"
                                           + "      <outgoing>id-8a3d7ae8-745a-443e-90ac-cd4f1ed6ba17</outgoing>\n"
                                           + "    </startEvent>\n"
                                           + "    <task id=\"id-7c526aaf-58c6-45e9-a2b4-ecb33c0bcca2\" name=\"Sales "
                                           + "Department Decision\">\n"
                                           + "      <incoming>id-8a3d7ae8-745a-443e-90ac-cd4f1ed6ba17</incoming>\n"
                                           + "      <outgoing>id-51b2615f-06cf-4cab-aaf2-f558937b7364</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <task id=\"id-c2b68c4a-58ea-4e3a-afa7-bc0193f588ea\" name=\"Inform "
                                           + "Storehouse\">\n"
                                           + "      <incoming>id-51b2615f-06cf-4cab-aaf2-f558937b7364</incoming>\n"
                                           + "      <outgoing>id-1f21af17-0c9c-4d94-859c-c4687e4e9d84</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <task id=\"id-60ad7c36-c514-4095-81bc-2a90bbefb6f6\" name=\"Inform "
                                           + "Engineering\">\n"
                                           + "      <incoming>id-1f21af17-0c9c-4d94-859c-c4687e4e9d84</incoming>\n"
                                           + "      <outgoing>id-d3e14b7b-37fe-478d-b0e2-5e5589a89899</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <task id=\"id-c52cf04e-34e8-4502-b77f-b794012f48d3\" "
                                           + "name=\"Storehouse Part Processing\">\n"
                                           + "      <incoming>id-d3e14b7b-37fe-478d-b0e2-5e5589a89899</incoming>\n"
                                           + "      <outgoing>id-040e35b0-aacc-42c8-bf11-b1a13268db0c</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <task id=\"id-6c3b9fa1-f7d4-4d31-90b3-0657f78682ec\" "
                                           + "name=\"Engineering Preparation\">\n"
                                           + "      <incoming>id-644fd71d-a6c2-464f-b265-230a2ab82037</incoming>\n"
                                           + "      <incoming>id-1c7463f2-77ba-42ee-a2cb-ffc6b33a2b97</incoming>\n"
                                           + "      <outgoing>id-5c3619f4-e0e5-489c-b8f4-83343ef55197</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <task id=\"id-a15260e9-5115-48df-9725-6de48dbea9e4\" name=\"Part "
                                           + "Availability Decision\">\n"
                                           + "      <incoming>id-5c3619f4-e0e5-489c-b8f4-83343ef55197</incoming>\n"
                                           + "      <outgoing>id-d8e09307-483e-476c-abb0-605747b6143a</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <task id=\"id-36770797-a18d-40d5-ab05-c192a02ffe6d\" "
                                           + "name=\"Assemble Bicycle\">\n"
                                           + "      <incoming>id-d8e09307-483e-476c-abb0-605747b6143a</incoming>\n"
                                           + "      <outgoing>id-cfa7b2f9-c519-4bba-be65-c7489e735925</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <task id=\"id-823977fa-ea22-485a-892b-3c4faa7ed368\" name=\"Ship "
                                           + "Bicycle\">\n"
                                           + "      <incoming>id-cfa7b2f9-c519-4bba-be65-c7489e735925</incoming>\n"
                                           + "      <outgoing>id-32e339a2-e993-47d1-a309-6d6172b9faf1</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <task id=\"id-d4142bc4-9356-41bb-ab13-57a8c081c268\" name=\"End\">\n"
                                           + "      <incoming>id-32e339a2-e993-47d1-a309-6d6172b9faf1</incoming>\n"
                                           + "      <outgoing>id-6adcfd56-fef6-4342-92a4-cd23ffc5f758</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <endEvent id=\"id-8ccc6a03-803f-43a7-b451-e1f8e1a5c16b\" name=\"\">\n"
                                           + "      <incoming>id-6adcfd56-fef6-4342-92a4-cd23ffc5f758</incoming>\n"
                                           + "    </endEvent>\n"
                                           + "    <exclusiveGateway id=\"id-fb86c689-4259-47b2-98a2-73306aae6c1b\" "
                                           + "name=\"Part Availability Decision opening gateway\">\n"
                                           + "      <incoming>id-040e35b0-aacc-42c8-bf11-b1a13268db0c</incoming>\n"
                                           + "      <outgoing>id-f9456c19-7bb2-411f-87c1-1fa04f1fc39c</outgoing>\n"
                                           + "      <outgoing>id-d8b859eb-b9ab-4943-81ab-47683b23ef3c</outgoing>\n"
                                           + "    </exclusiveGateway>\n"
                                           + "    <task id=\"id-5734d692-3185-424a-b77a-18c9660b9a3a\" name=\"All "
                                           + "Parts Processed Successfully\">\n"
                                           + "      <incoming>id-f9456c19-7bb2-411f-87c1-1fa04f1fc39c</incoming>\n"
                                           + "      <outgoing>id-092a024a-db0e-4bfa-9c22-f4e06cc03b39</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <task id=\"id-6611c40b-fa77-4e42-a40c-a907922a1014\" name=\"At "
                                           + "Least One Part Not Processed Successfully\">\n"
                                           + "      <incoming>id-d8b859eb-b9ab-4943-81ab-47683b23ef3c</incoming>\n"
                                           + "      <outgoing>id-7be52513-58cb-4088-8a71-ce654594b63b</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <parallelGateway id=\"id-c8480d31-541d-42ab-9d93-d37f4f594602\" "
                                           + "name=\"Engineering and Storehouse Tasks opening gateway\">\n"
                                           + "      <incoming>id-092a024a-db0e-4bfa-9c22-f4e06cc03b39</incoming>\n"
                                           + "      <incoming>id-7be52513-58cb-4088-8a71-ce654594b63b</incoming>\n"
                                           + "      <outgoing>id-26c4bbdb-e435-43a9-b519-ffda4b91dbf5</outgoing>\n"
                                           + "      <outgoing>id-0dbc4286-c9ff-4f3c-aec4-20db3246f9e4</outgoing>\n"
                                           + "    </parallelGateway>\n"
                                           + "    <task id=\"id-c8d7c649-17f0-4d6c-b112-4c391d53935a\" "
                                           + "name=\"Engineering Preparation (Parallel)\">\n"
                                           + "      <incoming>id-26c4bbdb-e435-43a9-b519-ffda4b91dbf5</incoming>\n"
                                           + "      <outgoing>id-644fd71d-a6c2-464f-b265-230a2ab82037</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <task id=\"id-2d8b419a-9933-4951-80ef-bd5a36caf766\" "
                                           + "name=\"Storehouse Part Processing (Parallel)\">\n"
                                           + "      <incoming>id-0dbc4286-c9ff-4f3c-aec4-20db3246f9e4</incoming>\n"
                                           + "      <outgoing>id-1c7463f2-77ba-42ee-a2cb-ffc6b33a2b97</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <sequenceFlow id=\"id-8a3d7ae8-745a-443e-90ac-cd4f1ed6ba17\" "
                                           + "name=\"\" sourceRef=\"id-c9dc94b3-d491-453b-8885-4f795a445d2c\" "
                                           + "targetRef=\"id-7c526aaf-58c6-45e9-a2b4-ecb33c0bcca2\"/>\n"
                                           + "    <sequenceFlow id=\"id-51b2615f-06cf-4cab-aaf2-f558937b7364\" "
                                           + "name=\"\" sourceRef=\"id-7c526aaf-58c6-45e9-a2b4-ecb33c0bcca2\" "
                                           + "targetRef=\"id-c2b68c4a-58ea-4e3a-afa7-bc0193f588ea\"/>\n"
                                           + "    <sequenceFlow id=\"id-1f21af17-0c9c-4d94-859c-c4687e4e9d84\" "
                                           + "name=\"\" sourceRef=\"id-c2b68c4a-58ea-4e3a-afa7-bc0193f588ea\" "
                                           + "targetRef=\"id-60ad7c36-c514-4095-81bc-2a90bbefb6f6\"/>\n"
                                           + "    <sequenceFlow id=\"id-d3e14b7b-37fe-478d-b0e2-5e5589a89899\" "
                                           + "name=\"\" sourceRef=\"id-60ad7c36-c514-4095-81bc-2a90bbefb6f6\" "
                                           + "targetRef=\"id-c52cf04e-34e8-4502-b77f-b794012f48d3\"/>\n"
                                           + "    <sequenceFlow id=\"id-f9456c19-7bb2-411f-87c1-1fa04f1fc39c\" "
                                           + "name=\"\" sourceRef=\"id-fb86c689-4259-47b2-98a2-73306aae6c1b\" "
                                           + "targetRef=\"id-5734d692-3185-424a-b77a-18c9660b9a3a\"/>\n"
                                           + "    <sequenceFlow id=\"id-d8b859eb-b9ab-4943-81ab-47683b23ef3c\" "
                                           + "name=\"\" sourceRef=\"id-fb86c689-4259-47b2-98a2-73306aae6c1b\" "
                                           + "targetRef=\"id-6611c40b-fa77-4e42-a40c-a907922a1014\"/>\n"
                                           + "    <sequenceFlow id=\"id-040e35b0-aacc-42c8-bf11-b1a13268db0c\" "
                                           + "name=\"\" sourceRef=\"id-c52cf04e-34e8-4502-b77f-b794012f48d3\" "
                                           + "targetRef=\"id-fb86c689-4259-47b2-98a2-73306aae6c1b\"/>\n"
                                           + "    <sequenceFlow id=\"id-092a024a-db0e-4bfa-9c22-f4e06cc03b39\" "
                                           + "name=\"\" sourceRef=\"id-5734d692-3185-424a-b77a-18c9660b9a3a\" "
                                           + "targetRef=\"id-c8480d31-541d-42ab-9d93-d37f4f594602\"/>\n"
                                           + "    <sequenceFlow id=\"id-7be52513-58cb-4088-8a71-ce654594b63b\" "
                                           + "name=\"\" sourceRef=\"id-6611c40b-fa77-4e42-a40c-a907922a1014\" "
                                           + "targetRef=\"id-c8480d31-541d-42ab-9d93-d37f4f594602\"/>\n"
                                           + "    <sequenceFlow id=\"id-26c4bbdb-e435-43a9-b519-ffda4b91dbf5\" "
                                           + "name=\"\" sourceRef=\"id-c8480d31-541d-42ab-9d93-d37f4f594602\" "
                                           + "targetRef=\"id-c8d7c649-17f0-4d6c-b112-4c391d53935a\"/>\n"
                                           + "    <sequenceFlow id=\"id-0dbc4286-c9ff-4f3c-aec4-20db3246f9e4\" "
                                           + "name=\"\" sourceRef=\"id-c8480d31-541d-42ab-9d93-d37f4f594602\" "
                                           + "targetRef=\"id-2d8b419a-9933-4951-80ef-bd5a36caf766\"/>\n"
                                           + "    <sequenceFlow id=\"id-644fd71d-a6c2-464f-b265-230a2ab82037\" "
                                           + "name=\"\" sourceRef=\"id-c8d7c649-17f0-4d6c-b112-4c391d53935a\" "
                                           + "targetRef=\"id-6c3b9fa1-f7d4-4d31-90b3-0657f78682ec\"/>\n"
                                           + "    <sequenceFlow id=\"id-1c7463f2-77ba-42ee-a2cb-ffc6b33a2b97\" "
                                           + "name=\"\" sourceRef=\"id-2d8b419a-9933-4951-80ef-bd5a36caf766\" "
                                           + "targetRef=\"id-6c3b9fa1-f7d4-4d31-90b3-0657f78682ec\"/>\n"
                                           + "    <sequenceFlow id=\"id-5c3619f4-e0e5-489c-b8f4-83343ef55197\" "
                                           + "name=\"\" sourceRef=\"id-6c3b9fa1-f7d4-4d31-90b3-0657f78682ec\" "
                                           + "targetRef=\"id-a15260e9-5115-48df-9725-6de48dbea9e4\"/>\n"
                                           + "    <sequenceFlow id=\"id-d8e09307-483e-476c-abb0-605747b6143a\" "
                                           + "name=\"\" sourceRef=\"id-a15260e9-5115-48df-9725-6de48dbea9e4\" "
                                           + "targetRef=\"id-36770797-a18d-40d5-ab05-c192a02ffe6d\"/>\n"
                                           + "    <sequenceFlow id=\"id-cfa7b2f9-c519-4bba-be65-c7489e735925\" "
                                           + "name=\"\" sourceRef=\"id-36770797-a18d-40d5-ab05-c192a02ffe6d\" "
                                           + "targetRef=\"id-823977fa-ea22-485a-892b-3c4faa7ed368\"/>\n"
                                           + "    <sequenceFlow id=\"id-32e339a2-e993-47d1-a309-6d6172b9faf1\" "
                                           + "name=\"\" sourceRef=\"id-823977fa-ea22-485a-892b-3c4faa7ed368\" "
                                           + "targetRef=\"id-d4142bc4-9356-41bb-ab13-57a8c081c268\"/>\n"
                                           + "    <sequenceFlow id=\"id-6adcfd56-fef6-4342-92a4-cd23ffc5f758\" "
                                           + "name=\"\" sourceRef=\"id-d4142bc4-9356-41bb-ab13-57a8c081c268\" "
                                           + "targetRef=\"id-8ccc6a03-803f-43a7-b451-e1f8e1a5c16b\"/>\n"
                                           + "  </process>\n"
                                           + "  <bpmndi:BPMNDiagram id=\"diagram\">\n"
                                           + "    <bpmndi:BPMNPlane id=\"id\">\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-c9dc94b3-d491-453b-8885"
                                           + "-4f795a445d2c\" id=\"id-fcc7b839-7115-4fb8-b694-b06da411bb7a\">\n"
                                           + "        <dc:Bounds height=\"30.0\" width=\"30.0\" x=\"0.0\" y=\"19"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-7c526aaf-58c6-45e9-a2b4"
                                           + "-ecb33c0bcca2\" id=\"id-385642bc-4a64-443f-bf6f-9ddea8fd7080\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"150.0\" y=\"0"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-c2b68c4a-58ea-4e3a-afa7"
                                           + "-bc0193f588ea\" id=\"id-524f5665-bb0d-474a-b36d-ee46e3eb2f96\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"300.0\" y=\"0"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-60ad7c36-c514-4095-81bc"
                                           + "-2a90bbefb6f6\" id=\"id-be5bc2a6-4aeb-47bc-9162-e2d4c827dada\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"450.0\" y=\"0"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-c52cf04e-34e8-4502-b77f"
                                           + "-b794012f48d3\" id=\"id-36835119-c76c-413f-9e87-84e83c6792ae\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"600.0\" y=\"0"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-6c3b9fa1-f7d4-4d31-90b3"
                                           + "-0657f78682ec\" id=\"id-1a0f63bd-c2e1-471e-97d9-48df695b8e51\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"1350.0\" y=\"200"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-a15260e9-5115-48df-9725"
                                           + "-6de48dbea9e4\" id=\"id-74080a19-0eb4-4fb6-891d-4219f4120cec\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"1500.0\" y=\"200"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-36770797-a18d-40d5-ab05"
                                           + "-c192a02ffe6d\" id=\"id-903fc1a9-c7d2-4053-a685-d313d4cfcb7d\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"1650.0\" y=\"200"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-823977fa-ea22-485a-892b"
                                           + "-3c4faa7ed368\" id=\"id-0931b654-2761-4e32-9164-e86c6b19a094\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"1800.0\" y=\"200"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-d4142bc4-9356-41bb-ab13"
                                           + "-57a8c081c268\" id=\"id-19190fbb-6c9c-4a71-974a-085629854150\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"1950.0\" y=\"200"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-8ccc6a03-803f-43a7-b451"
                                           + "-e1f8e1a5c16b\" id=\"id-ded56086-4211-4cb4-9a9f-9c2ef16b4f45\">\n"
                                           + "        <dc:Bounds height=\"30.0\" width=\"30.0\" x=\"2100.0\" y=\"19"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-fb86c689-4259-47b2-98a2"
                                           + "-73306aae6c1b\" id=\"id-a86283d1-e881-4186-8e71-4318d6d7483e\">\n"
                                           + "        <dc:Bounds height=\"42.0\" width=\"42.0\" x=\"750.0\" y=\"13"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-5734d692-3185-424a-b77a"
                                           + "-18c9660b9a3a\" id=\"id-9567076c-365d-4668-87e3-235477550f38\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"900.0\" y=\"200"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-6611c40b-fa77-4e42-a40c"
                                           + "-a907922a1014\" id=\"id-39634f65-27f1-4b5e-98db-c0e5744fbb73\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"900.0\" y=\"0"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-c8480d31-541d-42ab-9d93"
                                           + "-d37f4f594602\" id=\"id-cb95fc11-acc5-4bc0-a962-58210a2b4d19\">\n"
                                           + "        <dc:Bounds height=\"42.0\" width=\"42.0\" x=\"1050.0\" y=\"13"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-c8d7c649-17f0-4d6c-b112"
                                           + "-4c391d53935a\" id=\"id-864d53b3-ef46-4667-a961-45405f1844e6\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"1200.0\" y=\"300"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-2d8b419a-9933-4951-80ef"
                                           + "-bd5a36caf766\" id=\"id-d86b9902-aac2-47fe-81db-22de82bafcc0\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"1200.0\" y=\"100"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-8a3d7ae8-745a-443e-90ac"
                                           + "-cd4f1ed6ba17\" id=\"id-915f7432-8928-48e6-b70c-e2336338d2d2\">\n"
                                           + "        <di:waypoint x=\"30.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"150.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-51b2615f-06cf-4cab-aaf2"
                                           + "-f558937b7364\" id=\"id-7a6d1148-aac3-4969-8448-fe4f21fc460a\">\n"
                                           + "        <di:waypoint x=\"233.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"300.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-1f21af17-0c9c-4d94-859c"
                                           + "-c4687e4e9d84\" id=\"id-8adc8d4e-b21b-410c-93e6-4aae4d93b34a\">\n"
                                           + "        <di:waypoint x=\"383.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"450.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-d3e14b7b-37fe-478d-b0e2"
                                           + "-5e5589a89899\" id=\"id-74706e5d-2422-4a6a-8c91-f4f85885e0a5\">\n"
                                           + "        <di:waypoint x=\"533.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"600.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-f9456c19-7bb2-411f-87c1"
                                           + "-1fa04f1fc39c\" id=\"id-b28bf4af-1b92-43f9-ad49-768c5123aff5\">\n"
                                           + "        <di:waypoint x=\"42.0\" y=\"21.0\"/>\n"
                                           + "        <di:waypoint x=\"900.0\" y=\"234.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-d8b859eb-b9ab-4943-81ab"
                                           + "-47683b23ef3c\" id=\"id-7d2fc13e-7cd4-461d-a1d7-067bf536534a\">\n"
                                           + "        <di:waypoint x=\"42.0\" y=\"21.0\"/>\n"
                                           + "        <di:waypoint x=\"900.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-040e35b0-aacc-42c8-bf11"
                                           + "-b1a13268db0c\" id=\"id-02216b58-4110-4ee3-b032-d2c4bf121697\">\n"
                                           + "        <di:waypoint x=\"683.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"750.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-092a024a-db0e-4bfa-9c22"
                                           + "-f4e06cc03b39\" id=\"id-97ede4ab-6ede-4673-a44f-5db37c7169d7\">\n"
                                           + "        <di:waypoint x=\"983.0\" y=\"234.0\"/>\n"
                                           + "        <di:waypoint x=\"1050.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-7be52513-58cb-4088-8a71"
                                           + "-ce654594b63b\" id=\"id-24405fd6-3688-4d57-949c-d8b1acd24f9a\">\n"
                                           + "        <di:waypoint x=\"983.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"1050.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-26c4bbdb-e435-43a9-b519"
                                           + "-ffda4b91dbf5\" id=\"id-b4dfcfc6-346e-447e-8d91-5a36f12c62cd\">\n"
                                           + "        <di:waypoint x=\"1092.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"1200.0\" y=\"334.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-0dbc4286-c9ff-4f3c-aec4"
                                           + "-20db3246f9e4\" id=\"id-61090ede-b25e-447c-91d3-c0261a6d1b23\">\n"
                                           + "        <di:waypoint x=\"1092.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"1200.0\" y=\"134.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-644fd71d-a6c2-464f-b265"
                                           + "-230a2ab82037\" id=\"id-ab5e7ca6-df0d-4f43-9d5b-fbe4363e01a9\">\n"
                                           + "        <di:waypoint x=\"1283.0\" y=\"334.0\"/>\n"
                                           + "        <di:waypoint x=\"1350.0\" y=\"234.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-1c7463f2-77ba-42ee-a2cb"
                                           + "-ffc6b33a2b97\" id=\"id-143e55ef-eea1-457c-bd62-ff62e98655fd\">\n"
                                           + "        <di:waypoint x=\"1283.0\" y=\"134.0\"/>\n"
                                           + "        <di:waypoint x=\"1350.0\" y=\"234.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-5c3619f4-e0e5-489c-b8f4"
                                           + "-83343ef55197\" id=\"id-5c5cf30c-d1a9-426f-b2c1-47bb64fadc98\">\n"
                                           + "        <di:waypoint x=\"1433.0\" y=\"234.0\"/>\n"
                                           + "        <di:waypoint x=\"1500.0\" y=\"234.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-d8e09307-483e-476c-abb0"
                                           + "-605747b6143a\" id=\"id-ad2ca331-ffc5-4bab-8bc0-cb10fbd95bba\">\n"
                                           + "        <di:waypoint x=\"1583.0\" y=\"234.0\"/>\n"
                                           + "        <di:waypoint x=\"1650.0\" y=\"234.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-cfa7b2f9-c519-4bba-be65"
                                           + "-c7489e735925\" id=\"id-77f201fe-5f41-42f1-abde-f570e47ccf11\">\n"
                                           + "        <di:waypoint x=\"1733.0\" y=\"234.0\"/>\n"
                                           + "        <di:waypoint x=\"1800.0\" y=\"234.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-32e339a2-e993-47d1-a309"
                                           + "-6d6172b9faf1\" id=\"id-30320a6d-ac9b-4c47-909b-5de940bb29f6\">\n"
                                           + "        <di:waypoint x=\"1883.0\" y=\"234.0\"/>\n"
                                           + "        <di:waypoint x=\"1950.0\" y=\"234.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-6adcfd56-fef6-4342-92a4"
                                           + "-cd23ffc5f758\" id=\"id-01aaf548-b9af-4e21-9234-48bbf240f07f\">\n"
                                           + "        <di:waypoint x=\"2033.0\" y=\"234.0\"/>\n"
                                           + "        <di:waypoint x=\"2100.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "    </bpmndi:BPMNPlane>\n"
                                           + "  </bpmndi:BPMNDiagram>\n"
                                           + "</definitions>\n";

    @Test
    void manualTest() {
        var model = new BpmnModel(testBpmn);
        var gridElementToDiagramPositionMapping =
                new GridElementToDiagramPositionMapping();
        var layouting = new TopologicalSortBpmnLayouting(gridElementToDiagramPositionMapping);
        System.out.println(layouting.layoutModel(model).asXmlString());
    }
}