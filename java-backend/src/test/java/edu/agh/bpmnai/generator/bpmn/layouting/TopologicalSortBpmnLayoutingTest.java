package edu.agh.bpmnai.generator.bpmn.layouting;

import edu.agh.bpmnai.generator.bpmn.model.BpmnModel;
import org.junit.jupiter.api.Test;

class TopologicalSortBpmnLayoutingTest {
    private static final String testBpmn = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n"
                                           + "<definitions xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" "
                                           + "xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" "
                                           + "xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" "
                                           + "id=\"definitions_26c97a2e-c93f-4733-90cf-453c373c6895\" "
                                           + "targetNamespace=\"http://camunda.org/examples\" xmlns=\"http://www.omg"
                                           + ".org/spec/BPMN/20100524/MODEL\">\n"
                                           + "  <process id=\"id-d5312c51-9cbf-4df9-b0e6-9c81d4d446f3\" "
                                           + "name=\"default\">\n"
                                           + "    <startEvent id=\"id-d55e0e19-0fca-43b5-b71b-25efd2faffa8\" "
                                           + "name=\"Start\">\n"
                                           + "      <outgoing>id-b432f74b-5207-451b-93cd-ac3a5d145a0c</outgoing>\n"
                                           + "    </startEvent>\n"
                                           + "    <task id=\"id-1e33ee66-4be5-4353-8c7a-ff798756aff7\" name=\"Provide"
                                           + " Chainsaw Properties\">\n"
                                           + "      <incoming>id-be5bc5a6-60b0-419b-9c97-5d4e27301a47</incoming>\n"
                                           + "      <incoming>id-96561c06-0b25-47ba-a59d-f12d7b6ac7c4</incoming>\n"
                                           + "      <outgoing>id-250900b5-39a7-4dc9-869e-ff37b69d08f1</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <task id=\"id-6ac7c0a1-004c-4d57-89eb-18761e846104\" name=\"Order "
                                           + "Parts\">\n"
                                           + "      <incoming>id-250900b5-39a7-4dc9-869e-ff37b69d08f1</incoming>\n"
                                           + "      <outgoing>id-1e952684-b883-4ff4-9129-bf11beac4af2</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <sequenceFlow id=\"id-250900b5-39a7-4dc9-869e-ff37b69d08f1\" "
                                           + "sourceRef=\"id-1e33ee66-4be5-4353-8c7a-ff798756aff7\" "
                                           + "targetRef=\"id-6ac7c0a1-004c-4d57-89eb-18761e846104\"/>\n"
                                           + "    <parallelGateway id=\"id-4cbd8f3e-f235-4792-b397-4389ac02e198\" "
                                           + "name=\"Order Parts in Parallel opening gateway\">\n"
                                           + "      <incoming>id-b432f74b-5207-451b-93cd-ac3a5d145a0c</incoming>\n"
                                           + "      <outgoing>id-9310cbed-7a02-4378-b72a-64efe3e9d09c</outgoing>\n"
                                           + "      <outgoing>id-adafc87b-4dc8-4e26-bb72-e88bef863741</outgoing>\n"
                                           + "    </parallelGateway>\n"
                                           + "    <task id=\"id-3299a626-5bd2-4c4f-b484-2af6b5ad1c44\" name=\"Order "
                                           + "Guide Bar\">\n"
                                           + "      <incoming>id-9310cbed-7a02-4378-b72a-64efe3e9d09c</incoming>\n"
                                           + "      <outgoing>id-be5bc5a6-60b0-419b-9c97-5d4e27301a47</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <sequenceFlow id=\"id-9310cbed-7a02-4378-b72a-64efe3e9d09c\" "
                                           + "sourceRef=\"id-4cbd8f3e-f235-4792-b397-4389ac02e198\" "
                                           + "targetRef=\"id-3299a626-5bd2-4c4f-b484-2af6b5ad1c44\"/>\n"
                                           + "    <task id=\"id-89d1e9b8-2409-4b1f-9cbd-29ad2b145c76\" name=\"Order "
                                           + "Chain\">\n"
                                           + "      <incoming>id-adafc87b-4dc8-4e26-bb72-e88bef863741</incoming>\n"
                                           + "      <outgoing>id-96561c06-0b25-47ba-a59d-f12d7b6ac7c4</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <sequenceFlow id=\"id-adafc87b-4dc8-4e26-bb72-e88bef863741\" "
                                           + "sourceRef=\"id-4cbd8f3e-f235-4792-b397-4389ac02e198\" "
                                           + "targetRef=\"id-89d1e9b8-2409-4b1f-9cbd-29ad2b145c76\"/>\n"
                                           + "    <sequenceFlow id=\"id-b432f74b-5207-451b-93cd-ac3a5d145a0c\" "
                                           + "sourceRef=\"id-d55e0e19-0fca-43b5-b71b-25efd2faffa8\" "
                                           + "targetRef=\"id-4cbd8f3e-f235-4792-b397-4389ac02e198\"/>\n"
                                           + "    <task id=\"id-1b667806-a939-44e2-bb63-dca13fdcef92\" name=\"Inspect"
                                           + " Parts\">\n"
                                           + "      <incoming>id-1e952684-b883-4ff4-9129-bf11beac4af2</incoming>\n"
                                           + "      <outgoing>id-59654603-48de-4a56-b97a-6f588a8e7161</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <task id=\"id-adc69f34-5e72-44c6-b69f-a280e2c4ad9f\" "
                                           + "name=\"Assemble Chainsaw\">\n"
                                           + "      <incoming>id-59654603-48de-4a56-b97a-6f588a8e7161</incoming>\n"
                                           + "      <outgoing>id-54821f51-4662-4667-be7c-63019300312a</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <sequenceFlow id=\"id-59654603-48de-4a56-b97a-6f588a8e7161\" "
                                           + "sourceRef=\"id-1b667806-a939-44e2-bb63-dca13fdcef92\" "
                                           + "targetRef=\"id-adc69f34-5e72-44c6-b69f-a280e2c4ad9f\"/>\n"
                                           + "    <sequenceFlow id=\"id-1e952684-b883-4ff4-9129-bf11beac4af2\" "
                                           + "sourceRef=\"id-6ac7c0a1-004c-4d57-89eb-18761e846104\" "
                                           + "targetRef=\"id-1b667806-a939-44e2-bb63-dca13fdcef92\"/>\n"
                                           + "    <task id=\"id-ee60b675-8175-4ff2-9ea5-f4b13dc013ec\" name=\"Is "
                                           + "customer satisfied with the first chainsaw?\">\n"
                                           + "      <incoming>id-1db9b30e-f23a-4695-9739-4a9baea650f8</incoming>\n"
                                           + "      <outgoing>id-f9abf9ea-b3b7-492b-9219-e90aaed3661f</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <exclusiveGateway id=\"id-ad1e41e1-b4e7-4841-b31c-6040985d8faa\" "
                                           + "name=\"Customer Satisfaction opening gateway\">\n"
                                           + "      <incoming>id-f9abf9ea-b3b7-492b-9219-e90aaed3661f</incoming>\n"
                                           + "      <outgoing>id-091dad21-ff9b-4547-9b89-07f53a9df85d</outgoing>\n"
                                           + "      <outgoing>id-144e2c58-4e0a-43bf-b349-38132e4026c2</outgoing>\n"
                                           + "    </exclusiveGateway>\n"
                                           + "    <exclusiveGateway id=\"id-91bb93ab-302c-4bde-af52-9ee27915f741\" "
                                           + "name=\"Customer Satisfaction closing gateway\">\n"
                                           + "      <incoming>id-6b0accb0-900e-48f3-912b-bf1f5c800999</incoming>\n"
                                           + "    </exclusiveGateway>\n"
                                           + "    <sequenceFlow id=\"id-f9abf9ea-b3b7-492b-9219-e90aaed3661f\" "
                                           + "sourceRef=\"id-ee60b675-8175-4ff2-9ea5-f4b13dc013ec\" "
                                           + "targetRef=\"id-ad1e41e1-b4e7-4841-b31c-6040985d8faa\"/>\n"
                                           + "    <task id=\"id-5f31ab84-0f00-4048-a46d-d8c1f6081fd8\" name=\"Produce"
                                           + " Remaining Chainsaws\">\n"
                                           + "      <incoming>id-091dad21-ff9b-4547-9b89-07f53a9df85d</incoming>\n"
                                           + "      <outgoing>id-6b0accb0-900e-48f3-912b-bf1f5c800999</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <sequenceFlow id=\"id-091dad21-ff9b-4547-9b89-07f53a9df85d\" "
                                           + "sourceRef=\"id-ad1e41e1-b4e7-4841-b31c-6040985d8faa\" "
                                           + "targetRef=\"id-5f31ab84-0f00-4048-a46d-d8c1f6081fd8\"/>\n"
                                           + "    <sequenceFlow id=\"id-6b0accb0-900e-48f3-912b-bf1f5c800999\" "
                                           + "sourceRef=\"id-5f31ab84-0f00-4048-a46d-d8c1f6081fd8\" "
                                           + "targetRef=\"id-91bb93ab-302c-4bde-af52-9ee27915f741\"/>\n"
                                           + "    <task id=\"id-c91dfe0e-eff6-4f49-bdad-d84a0a2d3279\" name=\"End "
                                           + "Process\">\n"
                                           + "      <incoming>id-144e2c58-4e0a-43bf-b349-38132e4026c2</incoming>\n"
                                           + "      <outgoing>id-a8861ae2-120a-4db5-a274-902fe4e7702c</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <sequenceFlow id=\"id-144e2c58-4e0a-43bf-b349-38132e4026c2\" "
                                           + "sourceRef=\"id-ad1e41e1-b4e7-4841-b31c-6040985d8faa\" "
                                           + "targetRef=\"id-c91dfe0e-eff6-4f49-bdad-d84a0a2d3279\"/>\n"
                                           + "    <endEvent id=\"id-7da3ed4d-553a-4e4b-87af-7fe08cfc2d12\">\n"
                                           + "      <incoming>id-a8861ae2-120a-4db5-a274-902fe4e7702c</incoming>\n"
                                           + "    </endEvent>\n"
                                           + "    <sequenceFlow id=\"id-a8861ae2-120a-4db5-a274-902fe4e7702c\" "
                                           + "sourceRef=\"id-c91dfe0e-eff6-4f49-bdad-d84a0a2d3279\" "
                                           + "targetRef=\"id-7da3ed4d-553a-4e4b-87af-7fe08cfc2d12\"/>\n"
                                           + "    <task id=\"id-80d82bf6-0e51-4a81-8721-3c7a6936ecdf\" name=\"Send "
                                           + "Updates to Customer\">\n"
                                           + "      <incoming>id-54821f51-4662-4667-be7c-63019300312a</incoming>\n"
                                           + "      <outgoing>id-1db9b30e-f23a-4695-9739-4a9baea650f8</outgoing>\n"
                                           + "    </task>\n"
                                           + "    <sequenceFlow id=\"id-54821f51-4662-4667-be7c-63019300312a\" "
                                           + "sourceRef=\"id-adc69f34-5e72-44c6-b69f-a280e2c4ad9f\" "
                                           + "targetRef=\"id-80d82bf6-0e51-4a81-8721-3c7a6936ecdf\"/>\n"
                                           + "    <sequenceFlow id=\"id-1db9b30e-f23a-4695-9739-4a9baea650f8\" "
                                           + "sourceRef=\"id-80d82bf6-0e51-4a81-8721-3c7a6936ecdf\" "
                                           + "targetRef=\"id-ee60b675-8175-4ff2-9ea5-f4b13dc013ec\"/>\n"
                                           + "    <sequenceFlow id=\"id-be5bc5a6-60b0-419b-9c97-5d4e27301a47\" "
                                           + "sourceRef=\"id-3299a626-5bd2-4c4f-b484-2af6b5ad1c44\" "
                                           + "targetRef=\"id-1e33ee66-4be5-4353-8c7a-ff798756aff7\"/>\n"
                                           + "    <sequenceFlow id=\"id-96561c06-0b25-47ba-a59d-f12d7b6ac7c4\" "
                                           + "sourceRef=\"id-89d1e9b8-2409-4b1f-9cbd-29ad2b145c76\" "
                                           + "targetRef=\"id-1e33ee66-4be5-4353-8c7a-ff798756aff7\"/>\n"
                                           + "  </process>\n"
                                           + "  <bpmndi:BPMNDiagram id=\"diagram\">\n"
                                           + "    <bpmndi:BPMNPlane id=\"id\">\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-d55e0e19-0fca-43b5-b71b"
                                           + "-25efd2faffa8\" id=\"id-0475a608-509a-40a8-874d-acf2490c01ea\">\n"
                                           + "        <dc:Bounds height=\"30.0\" width=\"30.0\" x=\"0.0\" y=\"19"
                                           + ".0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-1e33ee66-4be5-4353-8c7a"
                                           + "-ff798756aff7\" id=\"id-438b3e06-a5fa-413f-9cc7-7656e9362537\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"0.0\" y=\"0.0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-6ac7c0a1-004c-4d57-89eb"
                                           + "-18761e846104\" id=\"id-e88dd998-e02f-4516-833e-bbb75ebfe53f\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"0.0\" y=\"0.0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-250900b5-39a7-4dc9-869e"
                                           + "-ff37b69d08f1\" id=\"id-a63b2915-4043-4871-8d2b-dfe487d800f9\">\n"
                                           + "        <di:waypoint x=\"83.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"0.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-4cbd8f3e-f235-4792-b397"
                                           + "-4389ac02e198\" id=\"id-a42e204c-0f13-4ef2-b3d3-14db09ce504a\">\n"
                                           + "        <dc:Bounds height=\"42.0\" width=\"42.0\" x=\"0.0\" y=\"0.0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-3299a626-5bd2-4c4f-b484"
                                           + "-2af6b5ad1c44\" id=\"id-3c55c2a1-fd02-4af7-aeaa-53be75632c29\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"0.0\" y=\"0.0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-9310cbed-7a02-4378-b72a"
                                           + "-64efe3e9d09c\" id=\"id-815aba20-18d6-4000-936e-060d3d7b1c72\">\n"
                                           + "        <di:waypoint x=\"21.0\" y=\"0.0\"/>\n"
                                           + "        <di:waypoint x=\"21.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"0.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-89d1e9b8-2409-4b1f-9cbd"
                                           + "-29ad2b145c76\" id=\"id-46552bad-d68f-4fc6-b43c-7083994856a1\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"0.0\" y=\"0.0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-adafc87b-4dc8-4e26-bb72"
                                           + "-e88bef863741\" id=\"id-fec7a032-330f-4f2c-8088-beb70da158ed\">\n"
                                           + "        <di:waypoint x=\"21.0\" y=\"0.0\"/>\n"
                                           + "        <di:waypoint x=\"21.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"0.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-b432f74b-5207-451b-93cd"
                                           + "-ac3a5d145a0c\" id=\"id-21a214a4-946f-4b96-b89b-d445f06098fe\">\n"
                                           + "        <di:waypoint x=\"30.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"21.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"21.0\" y=\"42.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-1b667806-a939-44e2-bb63"
                                           + "-dca13fdcef92\" id=\"id-69bfc70f-910c-4f4a-bd42-22566b0eeb86\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"0.0\" y=\"0.0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-adc69f34-5e72-44c6-b69f"
                                           + "-a280e2c4ad9f\" id=\"id-6cc6818a-060a-4dcf-8021-e96d44f9992b\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"0.0\" y=\"0.0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-59654603-48de-4a56-b97a"
                                           + "-6f588a8e7161\" id=\"id-f6c36edb-e743-487c-b062-3d03150d0183\">\n"
                                           + "        <di:waypoint x=\"83.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"0.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-1e952684-b883-4ff4-9129"
                                           + "-bf11beac4af2\" id=\"id-5ea2ed10-98ea-4fde-8221-292aebba81a7\">\n"
                                           + "        <di:waypoint x=\"83.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"0.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-ee60b675-8175-4ff2-9ea5"
                                           + "-f4b13dc013ec\" id=\"id-5380011d-76c3-460f-bec2-61b38bdeaa33\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"0.0\" y=\"0.0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-ad1e41e1-b4e7-4841-b31c"
                                           + "-6040985d8faa\" id=\"id-7a6aab63-e037-4006-8bbe-cfa6155dd101\">\n"
                                           + "        <dc:Bounds height=\"42.0\" width=\"42.0\" x=\"0.0\" y=\"0.0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-91bb93ab-302c-4bde-af52"
                                           + "-9ee27915f741\" id=\"id-e3e67187-cdaa-417f-9572-3da3b79dc272\">\n"
                                           + "        <dc:Bounds height=\"42.0\" width=\"42.0\" x=\"0.0\" y=\"0.0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-f9abf9ea-b3b7-492b-9219"
                                           + "-e90aaed3661f\" id=\"id-b6572d54-7cdf-46b4-a659-2a8942e42b3d\">\n"
                                           + "        <di:waypoint x=\"83.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"21.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"21.0\" y=\"42.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-5f31ab84-0f00-4048-a46d"
                                           + "-d8c1f6081fd8\" id=\"id-9fbefe3d-b743-4340-becf-c3157644bbdd\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"0.0\" y=\"0.0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-091dad21-ff9b-4547-9b89"
                                           + "-07f53a9df85d\" id=\"id-18fbf991-f7e4-4f7d-b9cf-4e021c834e1c\">\n"
                                           + "        <di:waypoint x=\"21.0\" y=\"0.0\"/>\n"
                                           + "        <di:waypoint x=\"21.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"0.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-6b0accb0-900e-48f3-912b"
                                           + "-bf1f5c800999\" id=\"id-993ae734-7734-454b-ad3f-53e8c2a83e8c\">\n"
                                           + "        <di:waypoint x=\"83.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"21.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"21.0\" y=\"42.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-c91dfe0e-eff6-4f49-bdad"
                                           + "-d84a0a2d3279\" id=\"id-8eb5eda2-e7ef-43b7-8f59-9f5938c34c35\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"0.0\" y=\"0.0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-144e2c58-4e0a-43bf-b349"
                                           + "-38132e4026c2\" id=\"id-e9df56b6-5c00-470b-b2a8-7eb305ef3dca\">\n"
                                           + "        <di:waypoint x=\"21.0\" y=\"0.0\"/>\n"
                                           + "        <di:waypoint x=\"21.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"0.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-7da3ed4d-553a-4e4b-87af"
                                           + "-7fe08cfc2d12\" id=\"id-40f36a6a-c5ee-437f-8b66-8c846d5226e9\">\n"
                                           + "        <dc:Bounds height=\"30.0\" width=\"30.0\" x=\"0.0\" y=\"0.0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-a8861ae2-120a-4db5-a274"
                                           + "-902fe4e7702c\" id=\"id-5722ce5a-8ec7-40b0-a62d-653476553ebe\">\n"
                                           + "        <di:waypoint x=\"83.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"15.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"15.0\" y=\"30.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNShape bpmnElement=\"id-80d82bf6-0e51-4a81-8721"
                                           + "-3c7a6936ecdf\" id=\"id-0f01d947-89e0-4a8c-94fa-3fffd7f4cb47\">\n"
                                           + "        <dc:Bounds height=\"68.0\" width=\"83.0\" x=\"0.0\" y=\"0.0\"/>\n"
                                           + "      </bpmndi:BPMNShape>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-54821f51-4662-4667-be7c"
                                           + "-63019300312a\" id=\"id-267b04e7-6b86-4e52-9a58-63c1e8b74f3e\">\n"
                                           + "        <di:waypoint x=\"83.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"0.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-1db9b30e-f23a-4695-9739"
                                           + "-4a9baea650f8\" id=\"id-b7ab91e4-2f5b-4ac4-8659-2360e65473df\">\n"
                                           + "        <di:waypoint x=\"83.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"0.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-be5bc5a6-60b0-419b-9c97"
                                           + "-5d4e27301a47\" id=\"id-c87eaa8b-6c8d-48de-b1f1-9093585da6a6\">\n"
                                           + "        <di:waypoint x=\"83.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"0.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "      <bpmndi:BPMNEdge bpmnElement=\"id-96561c06-0b25-47ba-a59d"
                                           + "-f12d7b6ac7c4\" id=\"id-4d2df435-1227-4c9d-b165-79a28e851c54\">\n"
                                           + "        <di:waypoint x=\"83.0\" y=\"34.0\"/>\n"
                                           + "        <di:waypoint x=\"0.0\" y=\"34.0\"/>\n"
                                           + "      </bpmndi:BPMNEdge>\n"
                                           + "    </bpmndi:BPMNPlane>\n"
                                           + "  </bpmndi:BPMNDiagram>\n"
                                           + "</definitions>\n";

    @Test
    void manualTest() {
        var model = new BpmnModel(testBpmn);
        var gridElementToDiagramPositionMapping =
                new GridElementToDiagramPositionMapping();
        var layouting = new TopologicalSortBpmnLayouting(gridElementToDiagramPositionMapping);
        System.out.println(layouting.layoutModel(model).asXmlString());
    }
}